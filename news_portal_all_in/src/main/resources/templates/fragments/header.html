<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="head" xmlns:th="http://www.thymeleaf.org">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Magz is a HTML5 & CSS3 magazine template is based on Bootstrap 3.">
    <meta name="author" content="DiNikOs">
    <meta name="keyword" content="magz, html5, css3, template, magazine template">
    <!-- Shareable -->
    <meta property="og:title" content="HTML5 & CSS3 magazine template is based on Bootstrap 3"/>
    <meta property="og:type" content="article"/>
<!--    <meta property="og:url"-->
<!--          content="https://github.com/DiNikOs/news_portal/tree/master/ui-news_portal/src/main/resources/static"/>-->
    <meta property="og:image" content="https://raw.githubusercontent.com/nauvalazhar/Magz/master/images/preview.png"/>

    <!--  <meta name="_csrf" th:content="${_csrf.token}" />-->
    <!--  <meta name="_csrf_header" th:content="${_csrf.headerName}" />-->

<!--    <meta property="og:url"-->
<!--          content="https://github.com/DiNikOs/news_portal/tree/master/ui-news_portal/src/main/resources"/>-->
    <meta property="og:image"
          content="https://github.com/DiNikOs/news_portal/tree/master/ui-news_portal/src/main/resources"/>
    <title>Magz &mdash; Responsive HTML5 &amp; CSS3 Magazine Template</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/scripts/bootstrap/bootstrap.min.css}">
    <!-- IonIcons -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/scripts/ionicons/css/ionicons.min.css}">
    <!-- Toast -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/scripts/toast/jquery.toast.min.css}">
    <!-- OwlCarousel -->
    <link rel="stylesheet" type="text/css" media="all"
          th:href="@{/scripts/owlcarousel/dist/assets/owl.carousel.min.css}">
    <link rel="stylesheet" type="text/css" media="all"
          th:href="@{/scripts/owlcarousel/dist/assets/owl.theme.default.min.css}">
    <!-- Magnific Popup -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/scripts/magnific-popup/dist/magnific-popup.css}">
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/scripts/sweetalert/dist/sweetalert.css}">
    <!-- iCheck -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/scripts/icheck/skins/all.css}">
    <!-- Custom style -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/style.css}">
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/skins/all.css}">
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/demo.css}">

    <link type="text/css" media="all" rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/assets/summernote/summernote-bs4.css}"/>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/bootstrap-select.css}"/>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/bootstrap-select.min.css}"/>

<!--    <link  rel="stylesheet" type="text/css" media="all" th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css} "/>-->
<!--    <link th:rel="stylesheet" th:href="@{webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/>-->

<!--    <link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css}">-->
        <!--Summernote for Bootstrap 4-->

<!--    <link rel="stylesheet" th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css}" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">-->

    <link type="text/css" media="all" th:href="@{/assets/summernote/summernote-bs4.min.css}" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>

    <link rel="stylesheet" type="text/css" media="all" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.12/dist/css/bootstrap-select.min.css">
    <link rel="stylesheet" type="text/css" media="all" href="https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-bs4.min.css">
    <link rel="stylesheet" type="text/css" media="all" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <![endif]-->
</head>

<!-- HEADER -->
<body>
<header>
    <div class="firstbar" th:fragment="firstbar" xmlns:th="http://www.thymeleaf.org">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-12">
                    <div class="brand">
                        <a th:href="@{/}">
                            <img src="../static/images/logo.png" th:src="@{/images/logo.png}" alt="Logo1">
                        </a>
                    </div>
                </div>
                <div class="col-md-6 col-sm-12">
                    <form class="search" autocomplete="off" th:action="@{/search}" method="get" th:if="${param.search!=null? param.search.toString() !='all': param.search==null}" >
                        <div class="form-group">
                            <div class="input-group">
                                <input class="form-control" value="hello" type="text"  placeholder="Type something ..."
                                       th:value="${param.word != null} ? ${param.word}" name="word">
<!--                                <input type="text" name="q" class="form-control" placeholder="Type something here">-->
                                <div class="input-group-btn">
                                    <button class="btn btn-primary" type="submit" id="search" name="search" th:value="all"><i class="ion-search"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="help-block">
                            <div>Popular:</div>
                            <ul class="tags">
                                <li th:if="${state.count}<5" th:each="tag,state : ${@tagsServiceImpl.findAll()}">
                                    <a th:href="@{'/search?tag_id=' + ${tag.id}}" th:name="tag_id" th:value="tags" th:text="${tag.name}">HTML5</a></li>
                            </ul>
                        </div>
                    </form>
                </div>
                <div class="col-md-3 col-sm-12 text-right">
                    <ul class="nav-icons">

                        <li><a sec:authorize="!isAuthenticated()" th:href="@{/register}"><i class="ion-person-add"></i>
                            <div>Register</div>
                        </a></li>
                        <li><a sec:authorize="!isAuthenticated()" th:href="@{/login}"><i class="ion-log-in"></i>
                            <div>Login</div>
                        </a></li>
                        <li  sec:authorize="isAuthenticated()" class="nav-item magz-dropdown">
                            <!--                        <li  sec:authorize="isAuthenticated()" class="nav-item dropdown magz-dropdown"> -->

                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true" aria-expanded="false" th:href="@{#}"
                               sec:authorize="isAuthenticated()"><i class="icon ion-person"></i>
                                <div sec:authentication="name"> Authorized
                                    user</div>
                               </a>
                            <ul class="nav-icons dropdown-menu">
                                <li><a th:href="@{/user/edituser/{username}(username=${#request.userPrincipal.name})}">
                                    <i class="icon ion-person"></i><div>My Account</div></a></li><br>
                                <li><a th:href="@{/user/favorite/{username}(username=${#request.userPrincipal.name})}">
                                    <i class="icon ion-heart"></i><div>Favorite</div> </a></li><br>
                                <li><a th:href="@{/user/comment/{username}(username=${#request.userPrincipal.name})}">
                                    <i class="icon ion-chatbox"></i><div>Comments</div> </a></li><br>
                                <li><a th:href="@{/user/change_password/{username}(username=${#request.userPrincipal.name})}">
                                    <i class="icon ion-key"></i><div>Change Password</div> </a></li><br>
                                <li><a th:href="@{/users}" sec:authorize="hasRole('ADMIN')">
                                    <i class="icon ion-person"></i><div>User list</div> </a></li><br>
                                <li class="dropdown-divider"><div>------------------------------------------</div>
                                    </li><br>
                                <li > <a th:if="${#request.userPrincipal != null}" th:href="@{/logout}">
                                    <i class="icon ion-log-out"></i> <div>Logout</div></a></li>
                                <!--                                <div class="dropdown-divider"></div>-->
                            </ul>
                        </li>
                        <li><a sec:authorize="isAuthenticated()" th:href="@{/logout}"><i class="ion-log-out"></i>
                            <div>Logout</div>
                        </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav class="menu" th:fragment="nav" xmlns:th="http://www.thymeleaf.org">
        <!-- Start nav -->
        <div class="container">
            <div class="brand">
                <a th:href="@{/}">
                    <img src="../static/images/logo.png" th:src="@{/images/logo.png}" alt="Logo2">
                </a>
            </div>
            <div class="mobile-toggle">
                <a th:href="@{#}" data-toggle="menu" data-target="#menu-list"><i class="ion-navicon-round"></i></a>
            </div>
            <div class="mobile-toggle">
                <a th:href="@{#}" data-toggle="sidebar" data-target="#sidebar"><i class="ion-ios-arrow-left"></i></a>
            </div>
            <div id="menu-list">
                <ul class="nav-list">
                    <li class="for-tablet nav-title"><a>Menu</a></li>
                    <li class="for-tablet" sec:authorize="!isAuthenticated()"><a href="../ui/login.html"
                                                                                 th:href="@{/login}">Login</a></li>
                    <li class="for-tablet" sec:authorize="!isAuthenticated()"><a href="../ui/register.html"
                                                                                 th:href="@{/register}">Register</a>
                    </li>

                    <li><a th:href="@{'/search?cat_id='}">All news</a></li>
                    <li th:if="${iter.count} < 4" th:each="category,iter : ${@articleCategoryService.findAll()}">
                        <a th:href="@{'/search?cat_id=' + ${category.id}}"
                           th:text="${category.name}">Category</a>
                    </li>
                    <li class="dropdown magz-dropdown">
                        <a th:href="@{/category}"><i class="ion-ios-arrow-left"></i> World around</a>
                        <ul class="dropdown-menu">
                            <li  th:if="${iter.count} > 3" th:each="category,iter : ${@articleCategoryService.findAll()}">
                                <a th:href="@{'/search?cat_id=' + ${category.id}}"
                                   th:text="${category.name}">Category</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown magz-dropdown">
                        <a th:href="@{#}"><i class="ion-ios-arrow-left"></i> Сommon</a>
                        <ul class="dropdown-menu">
                            <li><a th:href="@{/search}">Search</a></li>
                            <li><a th:href="@{/page}">About Us</a></li>
                            <li><a th:href="@{/contact}">Contact</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End nav -->
</header>
<!-- /HEADER -->
</body>
</html>